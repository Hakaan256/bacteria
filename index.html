<html>
<head>
<script type='text/javascript' src='src/config.js'></script>
<script type='text/javascript' src='src/utils/utils.js'></script>
<script type='text/javascript' src='src/utils/webgl-utils.js'></script>
<script type="text/javascript" src="src/canv.js"></script>
<script type="text/javascript" src="src/stage.js"></script>
<script type="text/javascript" src="src/game.js"></script>

<script type="text/javascript" src="src/doqueues/assetter.js"></script>
<script type="text/javascript" src="src/doqueues/clicker.js"></script>
<script type="text/javascript" src="src/doqueues/blurer.js"></script>
<script type="text/javascript" src="src/doqueues/keyer.js"></script>
<script type="text/javascript" src="src/doqueues/debugger.js"></script>
<script type="text/javascript" src="src/doqueues/dragger.js"></script>
<script type="text/javascript" src="src/doqueues/drawer.js"></script>
<script type="text/javascript" src="src/doqueues/flicker.js"></script>
<script type="text/javascript" src="src/doqueues/hoverer.js"></script>
<script type="text/javascript" src="src/doqueues/persistent_hoverer.js"></script>
<script type="text/javascript" src="src/doqueues/presser.js"></script>
<script type="text/javascript" src="src/doqueues/ticker.js"></script>
<script type="text/javascript" src="src/doqueues/particler.js"></script>
<script type="text/javascript" src="src/doqueues/objs/img.js"></script>
<script type="text/javascript" src="src/doqueues/objs/placer.js"></script>
<script type="text/javascript" src="src/doqueues/objs/input.js"></script>

<script type="text/javascript" src="src/scenes/nullScene.js"></script>
<script type="text/javascript" src="src/scenes/loadingScene.js"></script>
<script type="text/javascript" src="src/scenes/testScene.js"></script>
<script type="text/javascript" src="src/scenes/gameplayScene.js"></script>

<script type="text/javascript">
var d;
var g;
var g_basic;

function size_prefix(w,h,prefix)
{
  document.getElementById(prefix+"content").style.width  = w+"px";
  document.getElementById(prefix+"content").style.height = h+"px";
  document.getElementById(prefix+"stage_container").style.width  = w+"px";
  document.getElementById(prefix+"stage_container").style.height = h+"px";
  document.getElementById(prefix+"shadow_container").style.width = w+"px";
  document.getElementById(prefix+"shadow_container").style.top = (h+2)+"px";
  document.getElementById(prefix+"shadow").style.width = w+"px";
  document.getElementById(prefix+"shadow").style.height = 20+"px";
}
function begin()
{
  var prefix = "";
  var w = 640;
  var h = 320;
  document.getElementById("debug_div").style.width  = w+"px";
  document.getElementById("debug_div").style.height = h+"px";
  d = new Debugger({source:document.getElementById("debug_div")});

  prefix = "";
  w = 640;
  h = 320;
  size_prefix(w,h,prefix);
  g = new Game({width:w,height:h,container:prefix+"stage_container",
    config:
    {
      grid_cols:50,
      grid_rows:25,
      allow_dose:true,
      allow_smile:true,
      allow_reset:true,
      allow_contaminate:true,
      init_bact:true,
      reinit_bact:false,
      allow_body:true,
      init_body:true,
      reinit_body:true,
      click_function:CLICK_FUNC_NONE,
      mutate:true,
      reproduce:true,
      age:true,
    }
  });
  g.begin();

  prefix = "basic_";
  w = 256;
  h = 256;
  size_prefix(w,h,prefix);
  g = new Game({width:w,height:h,container:prefix+"stage_container",
    config:
    {
      grid_cols:20,
      grid_rows:20,
      allow_dose:false,
      allow_smile:false,
      allow_reset:false,
      allow_contaminate:false,
      init_bact:false,
      reinit_bact:false,
      allow_body:false,
      init_body:false,
      reinit_body:false,
      click_function:CLICK_FUNC_BACT,
      mutate:false,
      reproduce:true,
      age:true,
    }
  });
  g.begin();

}
window.addEventListener('touchstart', function(e){ e.preventDefault() }); //prevent browser from doing anything funny
window.addEventListener("load",begin,false);
</script>

</head>
<body>

<div id="bigthing" style="display:block; margin:20px auto; padding:20px; width:640px; height:1000px; position:relative; background-color:#F0F0F0;">
  <h1>Evolution + Antibiotic Resistance!</h1>

  <div>
    &nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;Let's look at bacteria. In this activity, we're going to greatly simplify their behavior for the purposes of examining a complex system.<br />
    &nbsp;&nbsp;&nbsp;To start, we'll define a bacterium's life by a couple of simple rules.<br /><br />
    &nbsp;&nbsp;&nbsp;1. Bacteria are aligned to a grid.<br />
    &nbsp;&nbsp;&nbsp;2. If there is an open space next to any bacterium, there is a small chance that it will reproduce, leaving its child in this adjacent space.<br />
    &nbsp;&nbsp;&nbsp;3. After a few seconds, bacteria will die.<br /><br />
    &nbsp;&nbsp;&nbsp;Simple enough! Let's see what that looks like:<br />
    <div id="basic_content" style="display:block; margin:50px auto; width:640px; position:relative;">
      <div id="basic_stage_container" style="display:block; width:640px; height:320px; position:absolute; top:0px; left:0px; user-select:none;"> </div>
      <div id="basic_shadow_container" style="display:block; width:640px; position:absolute; left:0px; top:322px; pointer-events:none; user-select:none;">
        <img id="basic_shadow" src="assets/shadow.png" style="display:block; pointer-events:none; user-select:none;"/>
      </div>
    </div>
    &nbsp;&nbsp;&nbsp;Our bodies are filled with all sorts of bacteria. In fact, according to Dr. Carolyn Bohach (University of Idaho), our body houses <i>ten times</i> more bacteria cells than it does human ones (enough to fill a large soup can)! Fortunately for us, a majority of these living organisms within us are beneficial (or even necessary!) to our everyday bodily processes (helping digest our food and maintain balance throughout our digestive tract). <br />
    &nbsp;&nbsp;&nbsp;However, when our body gets exposed to <i>bad bacteria</i>, it might result in us getting sick, or a wound failing to heal cleanly. In most cases, our body has enough resources to fight off the infection itself- all we need to do is give it time. But if the infection is severe enough, our bodies might need external help from <i>antibiotics</i>.<br />
    &nbsp;&nbsp;&nbsp;And here's where things get tricky. Bacteria are incredibly complex, and have a variety of subtle mechanisms that dictate how they respond to antibiotics (many of these mechanisms are not yet fully understood by scientists!). For the most part, prolonged exposure to certain substances deemed "antibiotic" will kill any bacteria into which it comes in contact. But it isn't that simple.<br />
    &nbsp;&nbsp;&nbsp;There are approximately 10^14 bacteria organisms in your body- that's hundreds of trillions! And each bacteria interacts <i>ever so slightly</i> differently to the antibiotic than the next. These small, subtle differences are results of mutations- or errors- in the reproductive process. Every time a new bacteria is created, there is a small chance that it will differ from its parent in random, unpredictable ways.<br />
    &nbsp;&nbsp;&nbsp;The key thing to note here are the terms <i>unpredictable</i> and <i>random</i>. Sometimes, a mutation will lead to the bacteria dying off immediately after its creation. Other times it will result in the bacteria being a different or unique shape. And other times still it might slightly change the way it interacts with, say, antibiotics. The bacteria has no control over which of these mutations happen, if any; each mutation is the result of random chance.<br />
    &nbsp;&nbsp;&nbsp;This becomes very interesting when these mutations result in some bacteria becoming able to survive long exposures to antibiotics much more successfully than others. If some bad bacteria has the ability to withstand antibiotics, that's bad news for the person infected!<br />
    &nbsp;&nbsp;&nbsp;So, how do these "super bacteria", able to survive large doses of antibiotics, come to be? Unfortunately, it's in large part due to our universal use of antibiotics! If left on their own, it would be unlikely that large colonies of bacteria would all have mutations resulting in them becoming highly resistent. But when 


  </div>

  <div id="content" style="display:block; margin:50px auto; width:640px; position:relative;">
    <div id="stage_container" style="display:block; width:640px; height:320px; position:absolute; top:0px; left:0px; user-select:none;"> </div>
    <div id="shadow_container" style="display:block; width:640px; position:absolute; left:0px; top:322px; pointer-events:none; user-select:none;">
      <img id="shadow" src="assets/shadow.png" style="display:block; pointer-events:none; user-select:none;"/>
    </div>
    <div id="debug_div" style="display:block; width:640px; height:320px; position:absolute; top:0px; left:0px; pointer-events:none; user-select:none;"> </div>
  </div>
</div>

</body>
</html>

